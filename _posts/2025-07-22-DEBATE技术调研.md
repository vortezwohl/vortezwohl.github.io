---
layout: post
toc: true
title: "技术调研 DEBATE: Devil's Advocate-Based Assessment and Text Evaluation"
categories: NLP
tags: [NLP, AI, LLM]
author:
  - vortezwohl
  - 吴子豪
---
随着自然语言生成（NLG）模型的普及，系统地评估机器生成文本的质量变得日益重要。近期研究引入了基于大型语言模型（LLM）的评估器，它们作为无参考指标发挥作用，展现出熟练处理新任务的能力。然而，这些模型通常依赖单代理方法，我们认为这对其性能造成了固有的限制。这是因为 LLM 代理的响应中存在偏见，包括对特定文本结构或内容的偏好。在本研究中，研究者们提出了 **DEBATE** —— 一个基于多代理评分系统的 NLG 评估框架，该系统融入了 “魔鬼代言人” 的概念。在这个框架中，一个代理被赋予批评其他代理论点的任务，这有可能解决 LLM 代理回答中的偏见问题。DEBATE 在两个 NLG 元评估基准（SummEval 和 TopicalChat）上显著优于以往的最先进方法。我们还发现，代理之间辩论的充分性以及代理的角色特征会影响评估器的性能.

Paper: [DEBATE: Devil's Advocate-Based Assessment and Text Evaluation](https://arxiv.org/abs/2405.09935)

## 当前业界方法的局限性

1. **传统评估指标的固有缺陷**: 传统方法如 ROUGE 和 BLEU 等，仅在表层文本层面进行评估，无法反映句子的语境化语义，难以捕捉连贯性、相关性等深层质量维度.

2. **单代理 LLM 评估器的偏见问题**: 近年来的 LLM-based 评估器（如 GPTScore、G-Eval）虽作为无参考指标处理新任务，但多采用单代理模式，易受隐性或诱导偏见影响（如对特定文本结构的偏好），导致评估稳定性和有效性下降.

3. **与人类评分的相关性较低**: 现有方法普遍与人类评估的相关性较低，且依赖昂贵的人工标注数据，难以适应 NLG 模型快速发展带来的多样化评估需求.

4. **难以复现的问题**: 部分方法（如 G-Eval）因实现细节不足（如超参数不匹配、提示词未公开）和 LLM 版本更新，导致性能难以复现.

## DEBATE 的创新点

- **解决的核心问题**: 纠正单代理 LLM 评估中的固有偏见，提升评估结果与人类判断的一致性; 克服单代理缺乏记忆和群体思维的缺陷，通过多代理互动实现更全面、平衡的评估;

- **多代理协作机制**: DEBATE 包含三个角色明确的代理:

    - **Command (指挥官)**: 作为 “集体记忆”，负责传递历史辩论信息，解决 LLM 代理无法回忆对话的问题，促进评分者与批评者的互动;

    - **Scorer（评分者）**: 根据特定指令对文本进行评估，生成初始评分;

    - **Critic（批评者）**: 扮演 "魔鬼", 通过建设性质疑评分者的结果, 迫使评分者修正偏见, 确保评估更客观.

    > 三者通过 “评分 - 质疑 - 修正” 的循环动态优化结果，直至批评者认可 (输出 “NO ISSUE”), 其思想类似 "生成对抗", 通过不断欺骗 Critic 来提升评分的可信程度.

- **性能突破**: 在 SummEval（摘要评估）和 Topical-Chat（对话评估）数据集上，DEBATE 显著优于现有方法（如 G-Eval、ChatEval）：与 G-Eval 相比，在 SummEval 中 Spearman 相关系数提升 6.4%，Kendall-Tau 提升 12.5%；在 Topical-Chat 中 Pearson 相关系数提升 11.9%，验证了多代理辩论策略的有效性.

## DEBATE 的局限性和未来研究方向

- 局限性:

    1. 成本较高: 多代理互动和历史上下文, 极大地增加了 token 消耗和计算资源, 成本高企.

    2. 依赖 LLM 能力: 性能受基础 LLM 影响, 只能依赖大型语言模型或高性能闭源模型.

    3. 缺乏定量分析评估: 仅对代理对话进行了定性分析, 未对辩论中的理性回应进行系统性定量评估.

- 后续研究方向:

    1. 优化成本效率: 探索轻量化多代理机制, 减少不必要的互动循环, 降低成本.

    2. 拓展模型适用性: 测试 DEBATE 在小参数 LLM 上的表现, 通过提示词优化或模型微调提升其在低资源场景的适用性.

    3. 深化辩论分析: 设计定量指标评估代理对话的理性程度, 明确辩论策略对结果的影响机制.

    4. 融合更多辩论策略: 结合 "tie-breaker" 等策略, 进一步提升争议场景下的评估准确性.
